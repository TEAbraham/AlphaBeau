<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<title>steve</title>

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
		<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
		<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
		<link rel="stylesheet" href="style.css">
		<link rel="stylesheet" href="css/chessboard-0.3.0.css">
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="lib/chessboardjs/css/chessboard-0.3.0.css">
    <link rel="stylesheet" href="style.css">
</head>
	<body data-gr-c-s-loaded="true">
			<div class="container" id="top">
				<div class="row">
					<div class="12-lg-col">
						<h1>STEVE<br><small>reinforcement learning &amp; chess</small></h1>
					</div>
				</div>
				<div id="sticky-wrapper" class="sticky-wrapper is-sticky" style="height: 38px;">
					<ul class="main-nav" style="width: 650px; position: fixed; top: 20px; left: 600px;">
						<li><a href="#evalandtime-top" class="button">Evaluation &amp; Time</a>
							<a href="#heatmap-top" class="button">Heatmap</a>
							<a href="#openings-top" class="button">Openings</a>
							<a href="#movepaths-top" class="button">Move Paths</a>
							
							</li>
					</ul>
				</div>
				</div>
				<div class="container">
						<div class="row">
							<div class="12-lg-col">
									<div id="rand" class="board">
									<script src="lib/jquery/jquery-3.2.1.min.js"></script>
									<script src="lib/chessboardjs/js/chess.js"></script>
									<script src="lib/chessboardjs/js/chessboard-0.3.0.js"></script>
									<script src="rand.js"></script>
									</div>
						</div>			
					</div>
					<hr>
			</div>
		<br>

		<br>
		<div class="container">
		<div class="row">
				<div class="12-col">
					<h3>Self</h3>
					<p>How we learn...</p>
					<p>MiniMax vs MCTS</p>
					<img src="img/mcts_selection_neg.png" alt="selection" style="max-width:300px;">
					<img src="img/mcts_expansion_neg.png" alt="expansion" style="max-width:300px;">
					<img src="img/mcts_simulation_neg.png" alt="simulation" style="max-width:300px;">
					<img src="img/mcts_backprop_neg.png" alt="backprop" style="max-width:300px;">
				</div>
		</div>
		</div>
		<div class="container">
		<div class="row">
				<div class="12-col">
						<script src="js.js"></script>
						<link rel="stylesheet" href="css.css">
						<div id="hm-combined">
								<div id="heatmap" class="cdv-heatmap"></div>
								<select id="heatmap-selector">
										<option value="squareUtilization">Square Utilization</option>
										<option value="moveSquares">Move Squares</option>
										<option value="captureSquares">Capture Squares</option>
										<option value="checkSquares">Checking Squares</option>
								</select>
								<div id="piece-selectors-w"></div>
								<div id="piece-selectors-b"></div>
						</div>						
				</div>
			</div>
		<hr id="evalandtime-top">
	</div>
		<div class="container">
		<div class="row">
				<div class="12-lg-col">
					<h3>Train</h3>
					<p>How we think...</p>
					<p>Encoding</p>
					<img src="img/ACZ_Pipeline_neg.png" alt="pipeline">
				</div>
		</div>
		</div>
		<br>
		<div class="container">
				<div class="row">
				<div class="12-lg-col">
						<div id="heatmap-example-2" class="cdv-heatmap"></div>
					<br>
					<button id="w-btn" class="button button-primary">White Queens</button>
					<button id="b-btn" class="button">Black Queens</button>
				</div>
				<script> d3.json('fangol.json', function(err, data) {
					var heatmapExample2 = new ChessDataViz.HeatMap('#heatmap-example-2', {
						colorScale: ['cyan', 'gold'],
						sizeScale: false,
						accessor: {
							color: 'w',
							piece: 'q'
						}
					}, data.heatmaps.checkSquares);
				
					var tip = d3.tip()
						.attr('class', 'd3-tip')
						.offset([25, -6])
						.html(function(d) {
							return d;
						});
				
					heatmapExample2.dispatch.on('mouseenter', tip.show);
					heatmapExample2.dispatch.on('mouseleave', tip.hide);
					heatmapExample2.dataContainer.call(tip);
				
					var wButton = d3.select('#w-btn');
					var bButton = d3.select('#b-btn');
				
					wButton.on('click', function() {
						heatmapExample2.options({
							accessor: {
								color: 'w',
								piece: 'q'
							}
						});
				
						wButton.classed('button-primary', true);
						bButton.classed('button-primary', false);
					});
				
					bButton.on('click', function() {
						heatmapExample2.options({
							accessor: {
								color: 'b',
								piece: 'q'
							}
						});
				
						wButton.classed('button-primary', false);
						bButton.classed('button-primary', true);
					});
				});
				</script>
				</div>
				<hr id="heatmap-top">	
		</div>
			<div class="container">
			<div class="row">
					<div class="12-lg-col">
						<h3>Evaluate</h3>
						<p>How we improve...</p>
						<p>Encoding</p>
						<img src="img/alpha_go_zero_cheat_sheet_neg.png" alt="pipeline" style="left;">
					</div>
				</div>
			</div>
			<div class="container">
				<div class="row">
					<div class="12-lg-col">
							<div id="op-combined">
									<div class="cdv-openings" id="openings">
										</div>
										<div class="caption">
											Openings Tree
											<span id="op-name"></span>
											<span id="op-percentage"></span>
											<button id="all" class="button button-primary">All Openings</button>
											<button id="d4" class="button">d4 Variations</button>
											<button id="e4" class="button">e4 Variations</button>
											<button id="c4" class="button">c4 Variations</button>
											<button id="Nf5" class="button">Nf5 Variations</button>

										</div>
							</div>	  
					</div>
					<script>d3.json('fangol.json', function(err, data) {
							var openings = new ChessDataViz.Openings('#openings', {
								arcThreshold: 0.002,
								textThreshold: 0.03,
								colors: d3.scale.ordinal().range(['cyan', 'gold', 'steelblue', 'gray'])
							}, data.openings);
						
							openings.dispatch
								.on('mouseenter', function(d, moves) {
									d3.select('#variation').text(moves.join(' '));
									var percent = d.value / data.openings.value * 100;
									percent = percent.toFixed(2);
									d3.select('#percentage').text(percent + '%');
								})
								.on('mouseleave', function() {
									d3.select('#variation').text('');
									d3.select('#percentage').text('');
								});
						
							var allButton = d3.select('#all');
							var d4Button = d3.select('#d4');
							var e4Button = d3.select('#e4');
							var c4Button = d3.select('#c4');
							var Nf5Button = d3.select('#Nf5');
						
							allButton.on('click', function() {
								allButton.classed('button-primary', true);
								d4Button.classed('button-primary', false);
								e4Button.classed('button-primary', false);
								Nf5Button.classed('button-primary', false);
								c4Button.classed('button-primary', false);
								openings.data(data.openings);
							});
							d4Button.on('click', function() {
								allButton.classed('button-primary', false);
								d4Button.classed('button-primary', true);
								e4Button.classed('button-primary', false);
								Nf5Button.classed('button-primary', false);
								c4Button.classed('button-primary', false);
								openings.data(data.openings);
								openings.data(data.openings.children[1]);
							});
							e4Button.on('click', function() {
								allButton.classed('button-primary', false);
								d4Button.classed('button-primary', false);
								e4Button.classed('button-primary', true);
								Nf5Button.classed('button-primary', false);
								c4Button.classed('button-primary', false);
								openings.data(data.openings);
								openings.data(data.openings.children[0]);
							});
							Nf5Button.on('click', function() {
								allButton.classed('button-primary', false);
								d4Button.classed('button-primary', false);
								e4Button.classed('button-primary', false);
								Nf5Button.classed('button-primary', true);
								c4Button.classed('button-primary', false);
								openings.data(data.openings);
								openings.data(data.openings.children[3]);
							});
							c4Button.on('click', function() {
								allButton.classed('button-primary', false);
								d4Button.classed('button-primary', false);
								e4Button.classed('button-primary', false);
								Nf5Button.classed('button-primary', false);
								c4Button.classed('button-primary', true);
								openings.data(data.openings);
								openings.data(data.openings.children[2]);
							});
						});</script>
				</div>
				<hr id="openings-top">
			</div>
			<div class="container">
					<div class="row">
						<div class="12-lg-col">
							<h3>Who we are...</h3>
							<h3>Who we will be...</h3>

							<div id="paths-combined">
									<div class="cdv-move-paths" id="movepaths"></div>
									<div id="board2"></div>
							</div>
						</div>
				</div>
		</div>
		<span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span>
		<hr id="movepaths-top">
	</body>
</html>